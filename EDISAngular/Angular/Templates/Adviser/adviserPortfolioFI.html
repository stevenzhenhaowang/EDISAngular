

<div class="row">
    <div class="col-md-4 ">
        <ul class="breadcrumb">
            <li><i class="fa fa-home"></i><a href="#">Home</a></li>
            <li>Portfolio</li>
            <li class="active">Fixed Income</li>
        </ul>
    </div>
</div>
<div class="content">
    <div class="main-header">
        <h2><client-name></client-name>Fixed Income</h2>
        <client-selector></client-selector>
    </div>
    <div class="main-content" ng-controller="adviserPortfolioFIViewController">
        <div class="row">
            <div class="col-md-7">
                <div class="row">
                    <div class="col-sm-12">
                        <ul class="nav nav-tabs" ng-init="tab=1">
                            <li ng-class="{active:tab==1}"><a ng-click="tab=1"><i class="fa fa-home"></i> Overview</a></li>
                       <!--     <li ng-class="{active:tab==3}"><a ng-click="tab=3"><i class="fa fa-list"></i> Diversification</a></li>
                            <li ng-class="{active:tab==4}"><a ng-click="tab=4"><i class="fa fa-list"></i> Cashflow</a></li>
                           -->
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane active in">
                                <div ng-if="tab===1">
                                    <div ng-controller="adviserPortfolioFIBriefInfoController">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="secondary-stat">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div id="secondary-stat-item1" class="secondary-stat-item big-number-stat clearfix">
                                                                <div class="data">
                                                                    <span class="col-left big-number">{{data.cost | currency}}</span>
                                                                    <span class="col-right"><em>Cost Value</em></span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="col-md-6">
                                                            <div id="secondary-stat-item2" class="secondary-stat-item big-number-stat clearfix">
                                                                <div class="data">
                                                                    <span class="col-left big-number">{{data.marketValue | currency}}</span>
                                                                    <span class="col-right"><em>Market Value</em></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div id="secondary-stat-item3" class="secondary-stat-item big-number-stat clearfix">
                                                                <div class="data">
                                                                    <span class="col-left big-number">{{data.pl | currency}}</span>
                                                                    <span class="col-right"><em>Profit/Loss</em></span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="col-md-6">
                                                            <div id="secondary-stat-item4" class="secondary-stat-item big-number-stat clearfix">
                                                                <div class="data">
                                                                    <span class="col-left big-number">{{data.plp | currency}}</span>
                                                                    <span class="col-right"><em>Profit/Loss (%)</em></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div id="secondary-stat-item1" class="secondary-stat-item big-number-stat clearfix">
                                                                <div class="data">
                                                                    <span class="col-left big-number">{{data.faceValue | currency}}</span>
                                                                    <span class="col-right"><em>Face Value (AUD)</em></span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="col-md-6">
                                                            <div id="secondary-stat-item2" class="secondary-stat-item big-number-stat clearfix">
                                                                <div class="data">
                                                                    <span class="col-left big-number">{{data.aveCoupon | number : 0}}%</span>
                                                                    <span class="col-right"><em>Average Coupon</em></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            
                                            </div>

                                        </div>
                                    </div>

                                    <div class="row" ng-controller="adviserPortfolioFIPriceChartController">
                                        <div class="col-sm-12">
                                            <div class="widget">
                                                <div class="widget-header">
                                                    <h3><i class="fa fa-bar-chart-o"></i>Price Chart</h3>

                                                </div>
                                                <div class="widget-content">
                                                    <div kendo-chart
                                                         k-legend="{ position: 'bottom' }"
                                                         k-series-defaults="{ type: 'area' , area : { line : { style : 'smooth' } } }"
                                                         k-series="[
                                 { field: 'bondYield', name: 'Bond Yield', categoryField:'month' },
                                 { field: 'rba', name: 'RBA Rate', categoryField:'month' }
                             ]" k-rebind="data"
                                                         k-data-source="datasource"
                                                         k-tooltip="{ visible: true, format : '{0}%' , template: '#= series.name #: #= value # %'}"></div>
                                                </div>
                                            </div>


                                        </div>

                                    </div>

                                    <div class="row">
                                        <div class="col-md-12" ng-controller="adviserPortfolioFICashflowBarchartController">
                                            <div class="widget">
                                                <div class="widget-header">
                                                    <h3><i class="fa fa-bar-chart-o"></i>Cash Flow Charts</h3>

                                                </div>
                                                <div class="widget-content">
                                                    <div kendo-chart
                                                         k-legend="{ position: 'bottom' }"
                                                         k-series-defaults="{ type: 'column' }"
                                                         k-series="[
                                 { field: 'income', name: 'Income', categoryField : 'month' },
                                 { field: 'expense', name: 'Expense', categoryField : 'month' }
                             ]" k-rebind="data"
                                                         k-tooltip="{visible: true, color: 'white', template: '${ category } - $${ value }'}" k-data-source="dataSource"></div>

                                                </div>
                                            </div>



                                        </div>


                                    </div>
                                    <div class="row">
                                        <div class="col-sm-12" ng-controller="adviserPortfolioFIIncomeProfileController">
                                            <div class="widget">
                                                <div class="widget-header">
                                                    <h3><i class="fa fa-bar-chart-o"></i>Income Details</h3>

                                                </div>
                                                <div class="widget-content">
                                                    <div>
                                                        <table class="table table-striped table-hover">
                                                            <thead>
                                                                <tr class="summary-table-row">
                                                                    <td>Ticker</td>
                                                                    <td>Fixed Income Name</td>
                                                                    <td>Currency</td>
                                                                    <td>Face Value</td>
                                                                    <td>Coupon</td>
                                                                    <td>Coupon Frequency</td>
                                                                    <td>Issuer</td>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="item in data.data">
                                                                    <td>{{item.ticker}}</td>
                                                                    <td>{{item.fixedIncomeName}}</td>
                                                                    <td>{{item.currency}}</td>
                                                                    <td>{{item.faceValue | currency}}</td>
                                                                    <td>{{item.coupon | number : 0}}%</td>
                                                                    <td>{{item.couponFrequency}}</td>
                                                                    <td>{{item.issuer}}</td>

                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <div style="overflow:auto">
                                                        <table class="table table-striped table-hover">
                                                            <thead>
                                                                <tr class="summary-table-row">
                                                                    <td>Ticker</td>
                                                                    <td>Fixed Income Name</td>
                                                                    <td>Cost Value</td>
                                                                    <td>Brokerage</td>
                                                                    <td>Total Cost Value</td>
                                                                    <td>Total Cost Value (AUD)</td>
                                                                    <td>Total Cost Value Weighting</td>
                                                                    <td>Total Cost Value Asset Allocation Weighting</td>
                                                                    <td>Market Price</td>
                                                                    <td>Market Value</td>
                                                                    <td>Market Value (AUD)</td>
                                                                    <td>Market Value Weighting (AUD)</td>
                                                                    <td>Market Value Asset Allocation Weighting</td>
                                                                    <td>Fixed Income Suitability to Investor Profile</td>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="item in data.data">
                                                                    <td>{{item.ticker}}</td>
                                                                    <td>{{item.fixedIncomeName}}</td>
                                                                    <td>{{item.costValue | currency}}</td>
                                                                    <td>{{item.brokerage | currency}}</td>
                                                                    <td>{{item.totalCostValue | currency}}</td>
                                                                    <td>{{item.totalCostValueAUD | currency}}</td>
                                                                    <td>{{item.totalCostValueWeighting | number : 0}}%</td>
                                                                    <td>{{item.totalCostValueAssetAllocationWeighting | number : 0}}</td>
                                                                    <td>{{item.marketPrice | currency}}</td>
                                                                    <td>{{item.marketValue | currency}}</td>
                                                                    <td>{{item.marketValueAUD | currency}}</td>
                                                                    <td>{{item.marketValueWeighting | number : 0}}%</td>
                                                                    <td>{{item.marketValueAssetAllocationWeighting | number : 0}}</td>
                                                                    <td>{{item.incomeSuitabilityToInvestor | number : 0}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                        <table class="table table-striped table-hover">
                                                            <thead>
                                                                <tr class="summary-table-row">
                                                                    <td>Ticker</td>
                                                                    <td>Fixed Income Name</td>
                                                                    <td>Instrument Type</td>
                                                                    <td>Bond Term (Yrs)</td>
                                                                    <td>Maturity Date</td>
                                                                    <td>Face Value</td>
                                                                    <td>Present Value</td>
                                                                    <td>Yield to Maturity</td>
                                                                    <td>Coupon Rate</td>
                                                                    <td>Coupon Frequency</td>
                                                                    <td>Interest Accrued</td>
                                                                    <td>Bond Rating</td>
                                                                    <td>Rating Agency</td>
                                                                    <td>Priority</td>
                                                                    <td>Redemption Features</td>

                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="item in data.data">
                                                                    <td>{{item.ticker}}</td>
                                                                    <td>{{item.fixedIncomeName}}</td>
                                                                    <td>{{item.instrumentType}}</td>
                                                                    <td>{{item.bondTerm | number : 0}}</td>
                                                                    <td>{{item.maturityDate | date}}</td>
                                                                    <td>{{item.faceValue | currency}}</td>
                                                                    <td>{{item.presentValue | currency}}%</td>
                                                                    <td>{{item.yieldToMaturity | currency}}</td>
                                                                    <td>{{item.couponRate | number : 0}}</td>
                                                                    <td>{{item.couponFrequency}}</td>
                                                                    <td>{{item.interestAccrued | currency}}</td>
                                                                    <td>{{item.bondRating | number : 0}}%</td>
                                                                    <td>{{item.ratingAgency}}</td>
                                                                    <td>{{item.priority | number : 0}}</td>
                                                                    <td>{{item.redemptionFeatures}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div ng-if="tab===3">
                                    <div ng-controller="adviserPortfolioFIDiversificationController">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="widget">
                                                    <div class="widget-header">
                                                        <h3><i class="fa fa-bar-chart-o"></i>Diversification Table</h3>

                                                    </div>
                                                    <div class="widget-content">
                                                        <table class="table table-striped table-hover">
                                                            <thead>
                                                                <tr class="summary-table-row">
                                                                    <td>Type</td>
                                                                    <td>Value</td>
                                                                    <td>Percentage</td>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="item in data.data">
                                                                    <td>{{item.name}}</td>
                                                                    <td>{{item.value | currency}}</td>
                                                                    <td>{{item.percentage | number : 2}}%</td>
                                                                </tr>
                                                                <tr class="summary-table-row">
                                                                    <td>Total</td>
                                                                    <td>{{data.total.value | currency}}</td>
                                                                    <td>{{data.total.percentage | number : 2}}%</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="widget">
                                                    <div class="widget-header">
                                                        <h3><i class="fa fa-bar-chart-o"></i>Diversification Pie Chart</h3>

                                                    </div>
                                                    <div class="widget-content">
                                                        <kendo-chart k-title="{ text: 'Diversification Pie Chart', position: 'top' }"
                                                                     k-series-defaults="{ type: 'donut', startAngle: 270 }"
                                                                     k-series="[{
                                                field: 'value',
                                                categoryField: 'name',
                                                padding: 0
                                                }]" k-rebind="data"
                                                                     k-series-colors="['#42a7ff', '#666666', '#999999', '#cccccc','#42a7ff', '#666666', '#999999', '#cccccc', '#42a7ff']"
                                                                     k-data-source="pieSource"
                                                                     k-legend="{ position: 'bottom' }"
                                                                     k-tooltip="{
                                                visible: true,
                                                color: 'white',
                                                template: '${ category } - $${ value }'}"></kendo-chart>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">

                                                <div class="widget">
                                                    <div class="widget-header">
                                                        <h3><i class="fa fa-bar-chart-o"></i>Diversification Bar Chart</h3>

                                                    </div>
                                                    <div class="widget-content">

                                                        <kendo-chart k-options="barOptions" k-rebind="data"></kendo-chart>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="tab===4">
                                    <div ng-controller="adviserPortfolioFICashflowIncomeSpecificController" style="overflow:auto">
                                        <table class="table table-striped table-hover">
                                            <thead>
                                                <tr class="summary-table-row">
                                                    <th>
                                                        Ticker
                                                    </th>
                                                    <th>Fixed Income Name</th>
                                                    <th>Currency</th>
                                                    <th ng-repeat="item in data.dateSchema" colspan="3">{{item}}</th>
                                                </tr>
                                                <tr class="summary-table-row">
                                                    <th colspan="3">
                                                    </th>
                                                    <th ng-repeat-start="item in data.dateSchema">Income</th>
                                                    <th>Franking</th>
                                                    <th ng-repeat-end>Expenses</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="company in data.data">
                                                    <td>{{company.ticker}}</td>
                                                    <td>{{company.name}}</td>
                                                    <td>{{company.currency}}</td>
                                                    <td ng-repeat-start="item in company.data">
                                                        {{item.income | currency}}
                                                    </td>
                                                    <td>{{item.franking | currency}}</td>
                                                    <td ng-repeat-end>{{item.expenses | currency}}</td>
                                                </tr>
                                                <tr class="summary-table-row">
                                                    <td colspan="3">Total</td>
                                                    <td ng-repeat-start="item in data.total">
                                                        {{item.income | currency}}
                                                    </td>
                                                    <td>{{item.franking | currency}}</td>
                                                    <td ng-repeat-end>{{item.expenses | currency}}</td>
                                                </tr>


                                            </tbody>
                                        </table>



                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-5">
                <div class="row">
                    <div class="col-sm-12">
                        <!--
                        <div class="widget" ng-controller="adviserPortfolioFICashflowBarchartController">
                            <div class="widget-header">
                                <h3><i class="fa fa-bar-chart-o"></i>Monthly Cash Flow Summary</h3>

                            </div>
                            <div class="widget-content">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr class="summary-table-row">
                                            <td>Month</td>
                                            <td>Income</td>
                                            <td>Expense</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="item in data.data">
                                            <td>{{item.date | date : 'MMMM'}}</td>
                                            <td>{{item.income | currency}}</td>
                                            <td>{{item.expense | currency}}</td>
                                        </tr>
                                        <tr class="summary-table-row">
                                            <td>Total</td>
                                            <td>{{data.totalIncome | currency}}</td>
                                            <td>{{data.totalExpense | currency}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                            
                            
                            -->


                        <div class="widget" ng-controller="adviserPortfolioFIStatisticsController">
                            <div class="widget-header">
                                <h3><i class="fa fa-bar-chart-o"></i>Fixed Income Statistics</h3>

                            </div>
                            <div class="widget-content">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr class="summary-table-row">
                                            <td>Type of Fixed Income</td>
                                            <td>Value</td>
                                            <td>Percentage</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="item in data">
                                            <td>{{item.type}}</td>
                                            <td>{{item.value| currency}}</td>
                                            <td>{{item.percentage | number : 0}}%</td>
                                        </tr>
                                        <tr class="summary-table-row">
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

    </div>
</div>